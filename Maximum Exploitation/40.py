def explo(a,b,c,d):
    l = [list(map(int, input().split())) for i in range(a)]
    l1 = [[sum([sum(l[k][i:i+c]) for k in range(j, j+d)])
       for i in range(b-c+1)] for j in range(a-d+1)]
    c, d = d, c
    l2 = [[sum([sum(l[k][i:i+c]) for k in range(j, j+d)])
       for i in range(b-c+1)] for j in range(a-d+1)]
    c, d = d, c
    mod=-100
    for i in range(len(l1)):
        for j in range(len(l1[0])):
            for k in range(len(l2)):
                for l in range(len(l2[1])):
                    if k+c <= i or l+d <= j or k >= i+d or l >= c+j:
                     if(l2[k][l]+l1[i][j] > mod):
                        mod = l2[k][l]+l1[i][j]
    print(mod)
l=list(map(int,input().split()))
a,b=l[0],l[1]
l2=list(map(int,input().split()))
c,d=l2[0],l2[1]
explo(a,b,c,d)